{% extends 'base.html' %}
{% block title %}My Posts{% endblock %}
{% block content %}
<section class="feed">
    <div class="section-header">
        <h2>My Posts</h2>
        <a class="btn ghost" href="{% url 'create_post' %}">New Post</a>
    </div>
    <div class="post-grid">
        {% for post in posts %}
            <article class="post-card">
                <div class="post-meta">
                    <span class="category">{{ post.get_category_display }}</span>
                    <span class="timestamp">{{ post.created_at|date:"M d, Y" }}</span>
                </div>
                <h3>{{ post.title }}</h3>
                <p>{{ post.description|truncatechars:160 }}</p>
                <div class="post-footer">
                    <span class="author">
                        {% if post.is_anonymous %}
                            Anonymous
                        {% else %}
                            {{ post.user.username }}
                        {% endif %}
                    </span>
                    <a class="link" href="{% url 'post_detail' %}?id={{ post.pk }}">View</a>
                </div>
            </article>
        {% empty %}
            <p class="empty">You have not posted yet.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}
