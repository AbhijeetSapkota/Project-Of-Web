{% extends 'base.html' %}
{% block title %}Campus Exchange{% endblock %}
{% block content %}
<section class="hero">
    <h1>Campus Lost & Found</h1>
    <p>Simple posts to help find items around campus.</p>
    <div class="hero-actions">
        <a class="btn" href="{% url 'create_post' %}">Create a post</a>
        {% if not user.is_authenticated %}
            <a class="btn ghost" href="{% url 'account_login' %}">Login</a>
        {% endif %}
    </div>
    <h3>Filters</h3>
    <div class="filter-grid">
        <a class="filter-pill" href="/?category=LOST">Lost</a>
        <a class="filter-pill" href="/?category=FOUND">Found</a>
        <a class="filter-pill" href="/">All</a>
    </div>
</section>

<section class="feed">
    <div class="section-header">
        <h2>Latest Posts</h2>
        {% if category %}
            <span class="badge">Filtered</span>
        {% endif %}
    </div>
    <div class="post-grid">
        {% for post in posts %}
            <article class="post-card">
                <div class="post-meta">
                    <span class="category">{{ post.get_category_display }}</span>
                    <span class="timestamp">{{ post.created_at|date:"M d, Y" }}</span>
                </div>
                <h3>{{ post.title }}</h3>
                <p>{{ post.description|truncatechars:160 }}</p>
                <div class="post-footer">
                    <span class="author">
                        {% if post.is_anonymous %}
                            Anonymous
                        {% else %}
                            {{ post.user.username }}
                        {% endif %}
                    </span>
                    <a class="link" href="{% url 'post_detail' %}?id={{ post.pk }}">View</a>
                </div>
            </article>
        {% empty %}
            <p class="empty">No posts yet. Be the first to share.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}
